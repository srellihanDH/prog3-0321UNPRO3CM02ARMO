{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/adrgon/dev/prog3-0321UNPRO3CM02ARMO/clase7-native-camera-post-photo/src/screens/NewPostForm.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Touchable from \"react-native-web/dist/exports/Touchable\";\nimport MyCamera from \"../components/MyCamera\";\nimport { auth, db } from \"../firebase/config\";\n\nvar NewPostForm = function (_Component) {\n  _inherits(NewPostForm, _Component);\n\n  var _super = _createSuper(NewPostForm);\n\n  function NewPostForm() {\n    var _this;\n\n    _classCallCheck(this, NewPostForm);\n\n    _this = _super.call(this);\n    _this.state = {\n      title: \"\",\n      description: \"\",\n      showCamera: true\n    };\n    return _this;\n  }\n\n  _createClass(NewPostForm, [{\n    key: \"submitPost\",\n    value: function submitPost() {\n      var _this2 = this;\n\n      db.collection(\"posteos\").add({\n        user: auth.currentUser.email,\n        createdAt: Date.now(),\n        title: this.state.title,\n        description: this.state.description,\n        likes: [],\n        comments: [],\n        photo: this.state.url\n      }).then(function () {\n        console.log(\"Se posteo exitosamente\");\n\n        _this2.setState({\n          title: \"\",\n          description: \"\"\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: \"onImageUpload\",\n    value: function onImageUpload(url) {\n      this.setState({\n        url: url,\n        showCamera: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return this.state.showCamera ? React.createElement(MyCamera, {\n        onImageUpload: function onImageUpload(url) {\n          return _this3.onImageUpload(url);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 7\n        }\n      }) : React.createElement(View, {\n        style: styles.formContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 7\n        }\n      }, React.createElement(TextInput, {\n        style: styles.input,\n        placeholder: \"T\\xEDtulo\",\n        keyboardType: \"default\",\n        onChangeText: function onChangeText(text) {\n          return _this3.setState({\n            title: text\n          });\n        },\n        value: this.state.title,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }\n      }), React.createElement(TextInput, {\n        style: styles.input,\n        placeholder: \"Descripci\\xF3n\",\n        keyboardType: \"default\",\n        onChangeText: function onChangeText(text) {\n          return _this3.setState({\n            description: text\n          });\n        },\n        value: this.state.description,\n        multiline: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }\n      }), React.createElement(TouchableOpacity, {\n        style: styles.button,\n        onPress: function onPress() {\n          return _this3.submitPost();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: styles.textButton,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }\n      }, \"Postear\")));\n    }\n  }]);\n\n  return NewPostForm;\n}(Component);\n\nvar styles = StyleSheet.create({\n  formContainer: {\n    paddingHorizontal: 10,\n    marginTop: 20\n  },\n  input: {\n    height: 100,\n    paddingVertical: 15,\n    paddingHorizontal: 10,\n    borderWidth: 1,\n    borderColor: \"#ccc\",\n    borderStyle: \"solid\",\n    borderRadius: 6,\n    marginVertical: 10\n  },\n  error: {\n    marginBottom: 10,\n    color: \"#dc3545\",\n    fontSize: 12\n  },\n  button: {\n    backgroundColor: \"#28a745\",\n    paddingHorizontal: 10,\n    paddingVertical: 6,\n    textAlign: \"center\",\n    borderRadius: 4,\n    borderWidth: 1,\n    borderStyle: \"solid\",\n    borderColor: \"#28a745\"\n  },\n  textButton: {\n    color: \"#fff\"\n  }\n});\nexport default NewPostForm;","map":{"version":3,"sources":["/Users/adrgon/dev/prog3-0321UNPRO3CM02ARMO/clase7-native-camera-post-photo/src/screens/NewPostForm.js"],"names":["React","Component","MyCamera","auth","db","NewPostForm","state","title","description","showCamera","collection","add","user","currentUser","email","createdAt","Date","now","likes","comments","photo","url","then","console","log","setState","catch","err","onImageUpload","styles","formContainer","input","text","button","submitPost","textButton","StyleSheet","create","paddingHorizontal","marginTop","height","paddingVertical","borderWidth","borderColor","borderStyle","borderRadius","marginVertical","error","marginBottom","color","fontSize","backgroundColor","textAlign"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  Text,\r\n  StyleSheet,\r\n  View,\r\n  TextInput,\r\n  TouchableOpacity,\r\n  Touchable,\r\n} from \"react-native\";\r\nimport MyCamera from \"../components/MyCamera\";\r\nimport { auth, db } from \"../firebase/config\";\r\n\r\nclass NewPostForm extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      title: \"\",\r\n      description: \"\",\r\n      showCamera: true,\r\n    };\r\n  }\r\n\r\n  submitPost() {\r\n    db.collection(\"posteos\")\r\n      .add({\r\n        user: auth.currentUser.email,\r\n        createdAt: Date.now(),\r\n        title: this.state.title,\r\n        description: this.state.description,\r\n        likes: [],\r\n        comments: [],\r\n        photo: this.state.url,\r\n      })\r\n      .then(() => {\r\n        console.log(\"Se posteo exitosamente\");\r\n        this.setState({\r\n          title: \"\",\r\n          description: \"\",\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  onImageUpload(url) {\r\n    this.setState({\r\n      url: url,\r\n      showCamera: false,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return this.state.showCamera ? (\r\n      <MyCamera onImageUpload={(url) => this.onImageUpload(url)} />\r\n    ) : (\r\n      <View style={styles.formContainer}>\r\n        <TextInput\r\n          style={styles.input}\r\n          placeholder=\"Título\"\r\n          keyboardType=\"default\"\r\n          onChangeText={(text) => this.setState({ title: text })}\r\n          value={this.state.title}\r\n        />\r\n        <TextInput\r\n          style={styles.input}\r\n          placeholder=\"Descripción\"\r\n          keyboardType=\"default\"\r\n          onChangeText={(text) => this.setState({ description: text })}\r\n          value={this.state.description}\r\n          multiline={true}\r\n        />\r\n\r\n        <TouchableOpacity\r\n          style={styles.button}\r\n          onPress={() => this.submitPost()}\r\n        >\r\n          <Text style={styles.textButton}>Postear</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  formContainer: {\r\n    paddingHorizontal: 10,\r\n    marginTop: 20,\r\n  },\r\n  input: {\r\n    height: 100,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 10,\r\n    borderWidth: 1,\r\n    borderColor: \"#ccc\",\r\n    borderStyle: \"solid\",\r\n    borderRadius: 6,\r\n    marginVertical: 10,\r\n  },\r\n  error: {\r\n    marginBottom: 10,\r\n    color: \"#dc3545\",\r\n    fontSize: 12,\r\n  },\r\n  button: {\r\n    backgroundColor: \"#28a745\",\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 6,\r\n    textAlign: \"center\",\r\n    borderRadius: 4,\r\n    borderWidth: 1,\r\n    borderStyle: \"solid\",\r\n    borderColor: \"#28a745\",\r\n  },\r\n  textButton: {\r\n    color: \"#fff\",\r\n  },\r\n});\r\n\r\nexport default NewPostForm;\r\n"]},"metadata":{},"sourceType":"module"}